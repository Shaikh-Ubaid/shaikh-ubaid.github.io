<!DOCTYPE html><html><head><title>Ubaid Shaikh</title><meta name="description" content="This is Ubaid Shaikh&#x27;s portfolio Website"/><link rel="icon" href="/favicon.ico"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta charSet="UTF-8"/><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/842215169d42b9bb.css" as="style"/><link rel="stylesheet" href="/_next/static/css/842215169d42b9bb.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-7751730b10fa0f74.js" defer=""></script><script src="/_next/static/chunks/main-e7a7892cb0edc024.js" defer=""></script><script src="/_next/static/chunks/pages/_app-20bb120b5b8e89f0.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-8d0d04d2d87907dd.js" defer=""></script><script src="/_next/static/HGZOVxFhKPOwfCe2jvpzo/_buildManifest.js" defer=""></script><script src="/_next/static/HGZOVxFhKPOwfCe2jvpzo/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div><div class="navbar bg-base-100"><div class="navbar-start"><div class="dropdown"><label tabindex="0" class="btn btn-ghost lg:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16"></path></svg></label><ul tabindex="0" class="menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52"><li><a href="/posts">Posts</a></li><li><a href="/contact">Contact</a></li></ul></div><span class="btn btn-ghost normal-case"><img src="/ubaid_shaikh_logo.svg" alt="logo" height="100%" width="200"/></span></div><div class="navbar-end hidden lg:flex"><ul class="menu menu-horizontal p-0"><li><a href="/posts">Posts</a></li><li><a href="/contact">Contact</a></li></ul></div></div><div class="flex place-content-center"><div class="w-4/5"><br/><div class="link"><i class="ri-arrow-left-line"></i> Back to posts</div><br/><article class="prose prose-lg md:prose-xl"><h1>Initial Support for Arrays</h1><h3>GSoC 22: Blog 9</h3><div class="flex justify-between"><div><i class="ri-calendar-2-line"></i> <!-- -->July 29, 2022</div><div><i class="ri-time-line"></i> <!-- -->2 min read</div></div></article><hr class="mt-5 mb-8"/><div class="w-3/4 w-full m-auto"><article class="prose prose-base"><div class="blog-content md:text-lg"><h1 id="hey-there-ðŸ¤—-welcome-to-my-gsoc-journey">Hey there ðŸ¤—, Welcome to my GSoC Journey</h1>
<p>This is a series of blogs that I am writing to share my amazing <strong>GSoC 22</strong> (Google Summer of Code 2022) Journey with you all.</p>
<hr>
<h1 id="initial-support-for-arrays">Initial Support for Arrays</h1>
<p>This week, I worked towards supporting <code>Arrays</code> in the <code>WebAssembly</code> Backend.
The <code>WebAssembly</code> Backend now supports <code>1D</code> <code>Integer</code>, <code>Real</code> and <code>Logical</code> <code>Arrays</code>.</p>
<p>One of the challenges this week was the unexpected the call stack being observed.
For example, for the following statment:</p>
<pre><code class="hljs language-python">x = [ <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span> ]
</code></pre>
<p>The <code>visitor</code> functions that are expected to be called are <code>visit_Assignment()</code> followed by <code>visit_Var()</code> and <code>visit_ArrayConstant()</code>.
In practice, the <code>visitor</code> function call stack that was being experienced was <code>visit_Assignment()</code> followed by <code>visit_ArrayItem()</code> and <code>visit_IntegerConstant()</code>.
This experienced call stack was completely <code>out-of-sync</code> with the expected call stack.
After some debugging attempts with no success, I reached out to mentors about the issue.</p>
<p>Fortunately, one of the mentors (<a href="https://github.com/czgdp1807">@Gangandeep</a>) understood the anomaly straightaway and shared that
there is a <code>pass_replace_implied_do_loops()</code> which was transforming the statment</p>
<pre><code class="hljs language-python">x = [ <span class="hljs-number">5</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>, <span class="hljs-number">8</span> ]
</code></pre>
<p>into a <code>DoLoop</code> as follows:</p>
<pre><code class="hljs language-python">do i = <span class="hljs-number">1</span>, <span class="hljs-number">4</span>
    x[i] = value_from_the_constant_list
end do
</code></pre>
<p>and that is why, the calls to <code>visit_ArrayItem()</code> and <code>visit_IntegerConstant()</code>.
Thank you so much <a href="https://github.com/czgdp1807">@Gangandeep</a> for helping me.
I think without you this issue would have taken a lot more time.</p>
<p>This phase was mostly/approximately from <code>23-07-2022</code> to <code>29-07-2022</code>.</p>
<p>The MRs during this phase are as follows:</p>
<ul>
<li><a href="https://github.com/lfortran/lfortran/pull/49">WASM: Initial support for Arrays #49</a></li>
<li><a href="https://github.com/lfortran/lfortran/pull/55">WAT: Arrays Fix #55</a></li>
<li><a href="https://github.com/lfortran/lfortran/pull/66">WASM: Support Real and Logical types with Arrays #66</a></li>
</ul>
<hr>
<p>That's all for this blog. Thank you for your time. We continue this series in the next blog.</p>
</div></article></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"blog":{"content":"\u003ch1 id=\"hey-there-ðŸ¤—-welcome-to-my-gsoc-journey\"\u003eHey there ðŸ¤—, Welcome to my GSoC Journey\u003c/h1\u003e\n\u003cp\u003eThis is a series of blogs that I am writing to share my amazing \u003cstrong\u003eGSoC 22\u003c/strong\u003e (Google Summer of Code 2022) Journey with you all.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"initial-support-for-arrays\"\u003eInitial Support for Arrays\u003c/h1\u003e\n\u003cp\u003eThis week, I worked towards supporting \u003ccode\u003eArrays\u003c/code\u003e in the \u003ccode\u003eWebAssembly\u003c/code\u003e Backend.\nThe \u003ccode\u003eWebAssembly\u003c/code\u003e Backend now supports \u003ccode\u003e1D\u003c/code\u003e \u003ccode\u003eInteger\u003c/code\u003e, \u003ccode\u003eReal\u003c/code\u003e and \u003ccode\u003eLogical\u003c/code\u003e \u003ccode\u003eArrays\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eOne of the challenges this week was the unexpected the call stack being observed.\nFor example, for the following statment:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003ex = [ \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e ]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThe \u003ccode\u003evisitor\u003c/code\u003e functions that are expected to be called are \u003ccode\u003evisit_Assignment()\u003c/code\u003e followed by \u003ccode\u003evisit_Var()\u003c/code\u003e and \u003ccode\u003evisit_ArrayConstant()\u003c/code\u003e.\nIn practice, the \u003ccode\u003evisitor\u003c/code\u003e function call stack that was being experienced was \u003ccode\u003evisit_Assignment()\u003c/code\u003e followed by \u003ccode\u003evisit_ArrayItem()\u003c/code\u003e and \u003ccode\u003evisit_IntegerConstant()\u003c/code\u003e.\nThis experienced call stack was completely \u003ccode\u003eout-of-sync\u003c/code\u003e with the expected call stack.\nAfter some debugging attempts with no success, I reached out to mentors about the issue.\u003c/p\u003e\n\u003cp\u003eFortunately, one of the mentors (\u003ca href=\"https://github.com/czgdp1807\"\u003e@Gangandeep\u003c/a\u003e) understood the anomaly straightaway and shared that\nthere is a \u003ccode\u003epass_replace_implied_do_loops()\u003c/code\u003e which was transforming the statment\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003ex = [ \u003cspan class=\"hljs-number\"\u003e5\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e7\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e6\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e8\u003c/span\u003e ]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003einto a \u003ccode\u003eDoLoop\u003c/code\u003e as follows:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-python\"\u003edo i = \u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e, \u003cspan class=\"hljs-number\"\u003e4\u003c/span\u003e\n    x[i] = value_from_the_constant_list\nend do\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eand that is why, the calls to \u003ccode\u003evisit_ArrayItem()\u003c/code\u003e and \u003ccode\u003evisit_IntegerConstant()\u003c/code\u003e.\nThank you so much \u003ca href=\"https://github.com/czgdp1807\"\u003e@Gangandeep\u003c/a\u003e for helping me.\nI think without you this issue would have taken a lot more time.\u003c/p\u003e\n\u003cp\u003eThis phase was mostly/approximately from \u003ccode\u003e23-07-2022\u003c/code\u003e to \u003ccode\u003e29-07-2022\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eThe MRs during this phase are as follows:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/lfortran/lfortran/pull/49\"\u003eWASM: Initial support for Arrays #49\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/lfortran/lfortran/pull/55\"\u003eWAT: Arrays Fix #55\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/lfortran/lfortran/pull/66\"\u003eWASM: Support Real and Logical types with Arrays #66\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cp\u003eThat's all for this blog. Thank you for your time. We continue this series in the next blog.\u003c/p\u003e\n","frontmatter":{"slug":"gsoc_9_supporting_arrays","excerpt":"GSoC 22: Blog 9","title":"Initial Support for Arrays","publishedAt":"2022-07-29","day":"July 29, 2022","readingTime":"2 min read"}}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"gsoc_9_supporting_arrays"},"buildId":"HGZOVxFhKPOwfCe2jvpzo","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>