<!DOCTYPE html><html><head><title>Ubaid Shaikh</title><meta name="description" content="This is Ubaid Shaikh&#x27;s portfolio Website"/><link rel="icon" href="/favicon.ico"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta charSet="UTF-8"/><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/63637aae99d8f3d6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/63637aae99d8f3d6.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-7751730b10fa0f74.js" defer=""></script><script src="/_next/static/chunks/main-e7a7892cb0edc024.js" defer=""></script><script src="/_next/static/chunks/pages/_app-70174acae681883c.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-8d0d04d2d87907dd.js" defer=""></script><script src="/_next/static/f2LKLLTRFDOqa9_r6tCT6/_buildManifest.js" defer=""></script><script src="/_next/static/f2LKLLTRFDOqa9_r6tCT6/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div><div class="navbar bg-base-100"><div class="navbar-start"><div class="dropdown"><label tabindex="0" class="btn btn-ghost lg:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16"></path></svg></label><ul tabindex="0" class="menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52"><li><a href="/posts">Posts</a></li><li><a href="/contact">Contact</a></li></ul></div><span class="btn btn-ghost normal-case"><img src="/ubaid_shaikh_logo.svg" alt="logo" height="100%" width="200"/></span></div><div class="navbar-end hidden lg:flex"><ul class="menu menu-horizontal p-0"><li><a href="/posts">Posts</a></li><li><a href="/contact">Contact</a></li></ul></div></div><div class="flex place-content-center"><div class="w-4/5"><br/><div class="link"><i class="ri-arrow-left-line"></i> Back to posts</div><br/><article class="prose prose-lg md:prose-xl"><h1>Supporting Loops and Other Improvements</h1><h3>GSoC 22: Blog 7</h3><div class="flex justify-between"><div><i class="ri-calendar-2-line"></i> <!-- -->July 15, 2022</div><div><i class="ri-time-line"></i> <!-- -->2 min read</div></div></article><hr class="mt-5 mb-8"/><div class="w-3/4 w-full m-auto"><article class="prose prose-base"><div class="blog-content md:text-lg"><h1 id="hey-there-ðŸ¤—-welcome-to-my-gsoc-journey">Hey there ðŸ¤—, Welcome to my GSoC Journey</h1>
<p>This is a series of blogs that I am writing to share my amazing <strong>GSoC 22</strong> (Google Summer of Code 2022) Journey with you all.</p>
<hr>
<h1 id="supporting-loops-and-other-improvements">Supporting Loops and Other Improvements</h1>
<p>In this week, I added support for</p>
<ul>
<li><code>loops</code>, <code>cycle</code> and <code>exit</code>.</li>
<li>basic support for <code>abs()</code>, <code>mod()</code></li>
<li>other minor improvements</li>
</ul>
<p>There was a minor challenge faced this week in supporting of the <code>abs/mod</code>.
The <code>abs</code> and <code>mod</code> functions are one of the first <code>runtime</code> functions to be supported by the <code>wasm</code> backend.
For supporting <code>mod/abs</code>, we need to use the <code>mod/abs</code> function from the <code>pure</code> <code>runtime</code> library.</p>
<p>When using the <code>mod/abs</code> function, it seems that the <code>ASR</code> includes every function from the parent module of <code>mod/abs</code>.
Since, the <code>ASR</code> seemed to include all the functions in the parent module of <code>mod/abs</code>, all of those were being
needed to be defined by the <code>WebAssembly</code> Backend during the <code>ASR-&gt;WASM</code> conversion.
I noticed that the <code>llvm</code> and <code>cpp</code> backends were defining only those functions from the parent of <code>mod/abs</code>,
which were actually being needed/used by <code>mod/abs</code>.
I wished to achieve/have a similar effect in the <code>WASM</code> Backend, that is, during the <code>ASR-&gt;WASM</code> conversion,
the <code>WebAssembly</code> Backend should only define the function <code>mod/abs</code> and any other necessary helper functions
being used by <code>mod/abs</code>. After playing with the code for some time (with no success), I later realized that,
there might be an <code>ASR-&gt;ASR</code> pass which removes the unused functions.
On inspecting the <code>cpp</code> backend, I found a pass named <code>pass_unused_functions()</code> which seemed to remove the
unused/extra functions being included in the <code>ASR</code>.
Using the <code>pass_unused_functions()</code>, the minor challenge was solved.</p>
<p>This phase was mostly/approximately from <code>09-07-2022</code> to <code>15-07-2022</code>.</p>
<p>The MRs during this phase are as follows:</p>
<ul>
<li><a href="https://gitlab.com/lfortran/lfortran/-/merge_requests/1830">!1830 WASM: Add support for Loop</a></li>
<li><a href="https://gitlab.com/lfortran/lfortran/-/merge_requests/1834">!1834 WASM: Various Improvements</a></li>
</ul>
<hr>
<p>That's all for this blog. Thank you for your time. We continue this series in the next blog.</p>
</div></article></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"blog":{"content":"\u003ch1 id=\"hey-there-ðŸ¤—-welcome-to-my-gsoc-journey\"\u003eHey there ðŸ¤—, Welcome to my GSoC Journey\u003c/h1\u003e\n\u003cp\u003eThis is a series of blogs that I am writing to share my amazing \u003cstrong\u003eGSoC 22\u003c/strong\u003e (Google Summer of Code 2022) Journey with you all.\u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"supporting-loops-and-other-improvements\"\u003eSupporting Loops and Other Improvements\u003c/h1\u003e\n\u003cp\u003eIn this week, I added support for\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eloops\u003c/code\u003e, \u003ccode\u003ecycle\u003c/code\u003e and \u003ccode\u003eexit\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003ebasic support for \u003ccode\u003eabs()\u003c/code\u003e, \u003ccode\u003emod()\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eother minor improvements\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThere was a minor challenge faced this week in supporting of the \u003ccode\u003eabs/mod\u003c/code\u003e.\nThe \u003ccode\u003eabs\u003c/code\u003e and \u003ccode\u003emod\u003c/code\u003e functions are one of the first \u003ccode\u003eruntime\u003c/code\u003e functions to be supported by the \u003ccode\u003ewasm\u003c/code\u003e backend.\nFor supporting \u003ccode\u003emod/abs\u003c/code\u003e, we need to use the \u003ccode\u003emod/abs\u003c/code\u003e function from the \u003ccode\u003epure\u003c/code\u003e \u003ccode\u003eruntime\u003c/code\u003e library.\u003c/p\u003e\n\u003cp\u003eWhen using the \u003ccode\u003emod/abs\u003c/code\u003e function, it seems that the \u003ccode\u003eASR\u003c/code\u003e includes every function from the parent module of \u003ccode\u003emod/abs\u003c/code\u003e.\nSince, the \u003ccode\u003eASR\u003c/code\u003e seemed to include all the functions in the parent module of \u003ccode\u003emod/abs\u003c/code\u003e, all of those were being\nneeded to be defined by the \u003ccode\u003eWebAssembly\u003c/code\u003e Backend during the \u003ccode\u003eASR-\u0026gt;WASM\u003c/code\u003e conversion.\nI noticed that the \u003ccode\u003ellvm\u003c/code\u003e and \u003ccode\u003ecpp\u003c/code\u003e backends were defining only those functions from the parent of \u003ccode\u003emod/abs\u003c/code\u003e,\nwhich were actually being needed/used by \u003ccode\u003emod/abs\u003c/code\u003e.\nI wished to achieve/have a similar effect in the \u003ccode\u003eWASM\u003c/code\u003e Backend, that is, during the \u003ccode\u003eASR-\u0026gt;WASM\u003c/code\u003e conversion,\nthe \u003ccode\u003eWebAssembly\u003c/code\u003e Backend should only define the function \u003ccode\u003emod/abs\u003c/code\u003e and any other necessary helper functions\nbeing used by \u003ccode\u003emod/abs\u003c/code\u003e. After playing with the code for some time (with no success), I later realized that,\nthere might be an \u003ccode\u003eASR-\u0026gt;ASR\u003c/code\u003e pass which removes the unused functions.\nOn inspecting the \u003ccode\u003ecpp\u003c/code\u003e backend, I found a pass named \u003ccode\u003epass_unused_functions()\u003c/code\u003e which seemed to remove the\nunused/extra functions being included in the \u003ccode\u003eASR\u003c/code\u003e.\nUsing the \u003ccode\u003epass_unused_functions()\u003c/code\u003e, the minor challenge was solved.\u003c/p\u003e\n\u003cp\u003eThis phase was mostly/approximately from \u003ccode\u003e09-07-2022\u003c/code\u003e to \u003ccode\u003e15-07-2022\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eThe MRs during this phase are as follows:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://gitlab.com/lfortran/lfortran/-/merge_requests/1830\"\u003e!1830 WASM: Add support for Loop\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://gitlab.com/lfortran/lfortran/-/merge_requests/1834\"\u003e!1834 WASM: Various Improvements\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cp\u003eThat's all for this blog. Thank you for your time. We continue this series in the next blog.\u003c/p\u003e\n","frontmatter":{"slug":"gsoc_7_loops_and_various_improvements","excerpt":"GSoC 22: Blog 7","title":"Supporting Loops and Other Improvements","publishedAt":"2022-07-15","day":"July 15, 2022","readingTime":"2 min read"}}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"gsoc_7_loops_and_various_improvements"},"buildId":"f2LKLLTRFDOqa9_r6tCT6","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>