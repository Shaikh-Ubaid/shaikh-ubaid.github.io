<!DOCTYPE html><html><head><title>Ubaid Shaikh</title><meta name="description" content="This is Ubaid Shaikh&#x27;s portfolio Website"/><link rel="icon" href="/favicon.ico"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta charSet="UTF-8"/><meta name="next-head-count" content="5"/><link rel="preload" href="/_next/static/css/63637aae99d8f3d6.css" as="style"/><link rel="stylesheet" href="/_next/static/css/63637aae99d8f3d6.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-b8f8d6679aaa5f42.js" defer=""></script><script src="/_next/static/chunks/framework-7751730b10fa0f74.js" defer=""></script><script src="/_next/static/chunks/main-e7a7892cb0edc024.js" defer=""></script><script src="/_next/static/chunks/pages/_app-70174acae681883c.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-8d0d04d2d87907dd.js" defer=""></script><script src="/_next/static/f2LKLLTRFDOqa9_r6tCT6/_buildManifest.js" defer=""></script><script src="/_next/static/f2LKLLTRFDOqa9_r6tCT6/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div><div class="navbar bg-base-100"><div class="navbar-start"><div class="dropdown"><label tabindex="0" class="btn btn-ghost lg:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h8m-8 6h16"></path></svg></label><ul tabindex="0" class="menu menu-compact dropdown-content mt-3 p-2 shadow bg-base-100 rounded-box w-52"><li><a href="/posts">Posts</a></li><li><a href="/contact">Contact</a></li></ul></div><span class="btn btn-ghost normal-case"><img src="/ubaid_shaikh_logo.svg" alt="logo" height="100%" width="200"/></span></div><div class="navbar-end hidden lg:flex"><ul class="menu menu-horizontal p-0"><li><a href="/posts">Posts</a></li><li><a href="/contact">Contact</a></li></ul></div></div><div class="flex place-content-center"><div class="w-4/5"><br/><div class="link"><i class="ri-arrow-left-line"></i> Back to posts</div><br/><article class="prose prose-lg md:prose-xl"><h1>Enabling LLVM Based WASM Backend and Build LFortran to WASM</h1><h3>GSoC 22: Blog 2</h3><div class="flex justify-between"><div><i class="ri-calendar-2-line"></i> <!-- -->June 17, 2022</div><div><i class="ri-time-line"></i> <!-- -->2 min read</div></div></article><hr class="mt-5 mb-8"/><div class="w-3/4 w-full m-auto"><article class="prose prose-base"><div class="blog-content md:text-lg"><h1 id="hey-there-ðŸ¤—-welcome-to-my-gsoc-journey">Hey there ðŸ¤—, Welcome to my GSoC Journey</h1>
<p>This is a series of blogs that I am writing to share my amazing <strong>GSoC 22</strong> (Google Summer of Code 2022) Journey with you all. </p>
<hr>
<h1 id="enabling-llvm-based-wasm-backend-and-build-lfortran-to-wasm">Enabling LLVM Based WASM Backend and Build LFortran to WASM</h1>
<p>Once we had testing enabled for the <code>wasm</code>-<code>wat</code> backends, our next goals were</p>
<ol>
<li>To Enable <code>LLVM</code> based <code>WASM</code> Backend</li>
<li>To Compile <code>LFortran</code> to <code>WASM</code></li>
</ol>
<p>The <code>LLVM</code> based <code>WASM</code> backend is usefull for the release mode of <code>LFortran</code>, 
as it could generate a fast binary (although compilation may be slow).
A Challenge here is to get the <code>C runtime library</code> working.</p>
<p>Enabling <code>LLVM</code> based <code>WASM</code> Backend was perviously tried at <a href="https://gitlab.com/lfortran/lfortran/-/merge_requests/">!1385</a>.
I tried exaclty the same steps as in the MR <a href="https://gitlab.com/lfortran/lfortran/-/merge_requests/1768">!1768</a>, but no luck.
After much trial and error of trying different tools and different commands for those tools,
I found a way to use <code>emscripten</code> to achieve our target.
Some test cases compile and run smoothly, where as, some throw a warning/error about <code>mismatch</code> in <code>function signatures</code>.
More details about this is available on the same MR <a href="https://gitlab.com/lfortran/lfortran/-/merge_requests/1768">!1768</a></p>
<p>This phase was mostly/approximately from <code>05-06-2022</code> to <code>12-06-2022</code>.</p>
<p>The MRs during this phase are as follows:</p>
<ul>
<li><a href="https://gitlab.com/lfortran/lfortran/-/merge_requests/1768">!1768</a></li>
<li><a href="https://gitlab.com/lfortran/lfortran/-/merge_requests/1769">!1769</a></li>
<li><a href="https://gitlab.com/lfortran/lfortran/-/merge_requests/1796">!1796</a></li>
</ul>
<p>I also tried to <code>build</code>/<code>compile</code> <code>LFortran</code> to <code>wasm</code> during this phase. 
It seems to work. 
I am yet to make an official <code>MR</code> regarding the same.
I will update here as soon as I make a <code>MR</code>.</p>
<p><strong>Update:</strong> 
I made an official <code>MR</code> at <a href="https://gitlab.com/lfortran/lfortran/-/merge_requests/1796">!1796 WASM: Compile/Build LFortran to WASM</a> 
(also updated in the above MRs list).</p>
<hr>
<p>That's all for this blog. Thank you for your time. We continue this series in the next blog.</p>
</div></article></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"blog":{"content":"\u003ch1 id=\"hey-there-ðŸ¤—-welcome-to-my-gsoc-journey\"\u003eHey there ðŸ¤—, Welcome to my GSoC Journey\u003c/h1\u003e\n\u003cp\u003eThis is a series of blogs that I am writing to share my amazing \u003cstrong\u003eGSoC 22\u003c/strong\u003e (Google Summer of Code 2022) Journey with you all. \u003c/p\u003e\n\u003chr\u003e\n\u003ch1 id=\"enabling-llvm-based-wasm-backend-and-build-lfortran-to-wasm\"\u003eEnabling LLVM Based WASM Backend and Build LFortran to WASM\u003c/h1\u003e\n\u003cp\u003eOnce we had testing enabled for the \u003ccode\u003ewasm\u003c/code\u003e-\u003ccode\u003ewat\u003c/code\u003e backends, our next goals were\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eTo Enable \u003ccode\u003eLLVM\u003c/code\u003e based \u003ccode\u003eWASM\u003c/code\u003e Backend\u003c/li\u003e\n\u003cli\u003eTo Compile \u003ccode\u003eLFortran\u003c/code\u003e to \u003ccode\u003eWASM\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eThe \u003ccode\u003eLLVM\u003c/code\u003e based \u003ccode\u003eWASM\u003c/code\u003e backend is usefull for the release mode of \u003ccode\u003eLFortran\u003c/code\u003e, \nas it could generate a fast binary (although compilation may be slow).\nA Challenge here is to get the \u003ccode\u003eC runtime library\u003c/code\u003e working.\u003c/p\u003e\n\u003cp\u003eEnabling \u003ccode\u003eLLVM\u003c/code\u003e based \u003ccode\u003eWASM\u003c/code\u003e Backend was perviously tried at \u003ca href=\"https://gitlab.com/lfortran/lfortran/-/merge_requests/\"\u003e!1385\u003c/a\u003e.\nI tried exaclty the same steps as in the MR \u003ca href=\"https://gitlab.com/lfortran/lfortran/-/merge_requests/1768\"\u003e!1768\u003c/a\u003e, but no luck.\nAfter much trial and error of trying different tools and different commands for those tools,\nI found a way to use \u003ccode\u003eemscripten\u003c/code\u003e to achieve our target.\nSome test cases compile and run smoothly, where as, some throw a warning/error about \u003ccode\u003emismatch\u003c/code\u003e in \u003ccode\u003efunction signatures\u003c/code\u003e.\nMore details about this is available on the same MR \u003ca href=\"https://gitlab.com/lfortran/lfortran/-/merge_requests/1768\"\u003e!1768\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eThis phase was mostly/approximately from \u003ccode\u003e05-06-2022\u003c/code\u003e to \u003ccode\u003e12-06-2022\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eThe MRs during this phase are as follows:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://gitlab.com/lfortran/lfortran/-/merge_requests/1768\"\u003e!1768\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://gitlab.com/lfortran/lfortran/-/merge_requests/1769\"\u003e!1769\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://gitlab.com/lfortran/lfortran/-/merge_requests/1796\"\u003e!1796\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eI also tried to \u003ccode\u003ebuild\u003c/code\u003e/\u003ccode\u003ecompile\u003c/code\u003e \u003ccode\u003eLFortran\u003c/code\u003e to \u003ccode\u003ewasm\u003c/code\u003e during this phase. \nIt seems to work. \nI am yet to make an official \u003ccode\u003eMR\u003c/code\u003e regarding the same.\nI will update here as soon as I make a \u003ccode\u003eMR\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cstrong\u003eUpdate:\u003c/strong\u003e \nI made an official \u003ccode\u003eMR\u003c/code\u003e at \u003ca href=\"https://gitlab.com/lfortran/lfortran/-/merge_requests/1796\"\u003e!1796 WASM: Compile/Build LFortran to WASM\u003c/a\u003e \n(also updated in the above MRs list).\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eThat's all for this blog. Thank you for your time. We continue this series in the next blog.\u003c/p\u003e\n","frontmatter":{"slug":"gsoc_2_llvm_wasm_backend_and_build_to_wasm","excerpt":"GSoC 22: Blog 2","title":"Enabling LLVM Based WASM Backend and Build LFortran to WASM","publishedAt":"2022-06-17","day":"June 17, 2022","readingTime":"2 min read"}}},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"gsoc_2_llvm_wasm_backend_and_build_to_wasm"},"buildId":"f2LKLLTRFDOqa9_r6tCT6","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>