{"pageProps":{"blog":{"content":"<h1 id=\"hey-there-ðŸ¤—-welcome-to-my-gsoc-journey\">Hey there ðŸ¤—, Welcome to my GSoC Journey</h1>\n<p>This is a series of blogs that I am writing to share my amazing <strong>GSoC 22</strong> (Google Summer of Code 2022) Journey with you all. </p>\n<hr>\n<h1 id=\"nodejs-testing-infrastructure-and-supporting-basic-if-else\">NodeJS Testing Infrastructure and Supporting Basic If-Else</h1>\n<p>This week's work mostly comprises of the following in the <code>LFortran</code> <code>WASM</code> Backend:  </p>\n<ul>\n<li>basic support for <code>integration_tests</code> using <code>nodejs</code></li>\n<li>basic support for <code>if-else</code> statements</li>\n<li>minor improvements</li>\n</ul>\n<p>In this week, a fun/interesting part was to figure out the basic implementation for <code>wasm</code> <code>if-else</code> statements.\nAs per the <a href=\"https://webassembly.github.io/spec/core/binary/instructions.html#control-instructions\">WebAssembly docs</a>, \nit seemed that the <code>wasm</code> <code>if-else</code> instruction requires a <code>type/signature</code>.\nThis <code>type/signature</code> consists of the <code>parameter</code> types (the types that would be present on the <code>stack</code> just before the execution of the <code>if-else</code>)\nand the <code>result</code> types (the types that would be present on the <code>stack</code> just after the execution of the <code>if-else</code>).\nThis <code>type/signature</code> is not readily available in our <code>ASR</code>, \nand we had two ideas for obtaining this <code>type/signature</code> of the <code>wasm</code> <code>if-else</code> instruction:</p>\n<ol>\n<li>Writing a <code>visitor</code> function that would return us the <code>parameter</code> and <code>result</code> types necessary for the <code>wasm</code> <code>if-else</code> instruction.</li>\n<li>Using a <code>stack</code> variable in the <code>ASR-&gt;WASM</code> Backend that keeps track of the types currently present in the function's <code>stack</code>. \nSo, just before and after the <code>if-else</code> we can quickly look up the <code>stack</code> variable and get the <code>parameter</code> and <code>result</code> types respectively.</li>\n</ol>\n<p>During the basic implementation of <code>if-else</code>, I realized the we might not need the <code>parameter</code> and <code>result</code> types as, in most of the cases,\n<code>if-else</code> do not consume any value and do not return any value. Thus, an emtpy/epsilon type should also work.\nSo, currently, I implemented the basic version of <code>if-else</code> statements without their <code>type/signature</code>.\nHopefully, it works. We will update the implementation, if in case there is any issue in the future.</p>\n<p>This phase was mostly/approximately from <code>25-06-2022</code> to <code>01-07-2022</code>.</p>\n<p>The MRs during this phase are as follows:</p>\n<ul>\n<li><a href=\"https://gitlab.com/lfortran/lfortran/-/merge_requests/1808\">!1808 WASM: NodeJS Testing Infrastructure</a></li>\n<li><a href=\"https://gitlab.com/lfortran/lfortran/-/merge_requests/1809\">!1809 WASM: WASM: Add support for basic If-Else</a></li>\n<li><a href=\"https://gitlab.com/lfortran/lfortran/-/merge_requests/1810\">!1810 WASM: Minor Improvements</a></li>\n<li><a href=\"https://gitlab.com/lfortran/lfortran/-/merge_requests/1811\">!1811 WASM: Suggested Minor Refactor</a></li>\n</ul>\n<p>Upcoming Tasks:</p>\n<ul>\n<li>NodeJS testing for <code>CI</code>: <a href=\"https://gitlab.com/lfortran/lfortran/-/issues/712\">#712</a>, and this <a href=\"https://gitlab.com/lfortran/lfortran/-/merge_requests/1808#note_1012029577\">comment</a></li>\n<li>Improve support for <code>if-else</code> statements</li>\n</ul>\n<hr>\n<p>That's all for this blog. Thank you for your time. We continue this series in the next blog.</p>\n","frontmatter":{"slug":"gsoc_5_nodejs_testing_and_basic_if_else","excerpt":"GSoC 22: Blog 5","title":"NodeJS Testing Infrastructure and Supporting Basic If-Else","publishedAt":"2022-07-01","day":"July 1, 2022","readingTime":"3 min read"}}},"__N_SSG":true}